<workflowGraph name="pfRnaSeqAndChipSeq">
  <param name="parentDataDir"/>
  <param name="organismResourceXmlFile"/>
  <param name="ssaGeneModelFile"/>
  <param name="genomicSeqsFileForSsa"/>
  <param name="transcriptSeqsFileForSsa"/>
  <param name="downloadSiteTranscriptExpressionDataDir"/>

  <constant name="dataDir">$$parentDataDir$$/pfRnaSeqAndChipSeq</constant>

  <step name="makeDataDir" stepClass="ReFlow::StepClasses::MakeDataDir">
    <paramValue name="dataDir">$$dataDir$$</paramValue>
  </step>

    <step name="mirrorToCluster" stepClass="ReFlow::StepClasses::MirrorToComputeCluster">
      <paramValue name="fileOrDirToMirror">$$dataDir$$</paramValue>
      <depends name="makeDataDir"/>
    </step>

  <subgraph name="getAndAnalyzeDuffyRnaSeq" xmlFile="plasmodb/pfDuffyRnaSeq.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa">$$transcriptSeqsFileForSsa$$</paramValue>
    <paramValue name="downloadSiteTranscriptExpressionDataDir">$$downloadSiteTranscriptExpressionDataDir$$/Pf_RNASeq_Duffy</paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>

  <subgraph name="getAndAnalyzeNewboldRnaSeq" xmlFile="plasmodb/pfNewboldRnaSeq.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa">$$transcriptSeqsFileForSsa$$</paramValue>
    <paramValue name="downloadSiteTranscriptExpressionDataDir">$$downloadSiteTranscriptExpressionDataDir$$/Pf_RNASeq_Newbold</paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>


  <subgraph name="getAndAnalyzeLeRochChipSeq" xmlFile="plasmodb/pfLeRochChipSeq.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa"></paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>


  <subgraph name="getAndAnalyzeStunnenbergRnaSeq" xmlFile="plasmodb/pfStunnenbergRnaSeq.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa">$$transcriptSeqsFileForSsa$$</paramValue>
    <paramValue name="downloadSiteTranscriptExpressionDataDir">$$downloadSiteTranscriptExpressionDataDir$$/Pf_RNASeq_Stunnenberg</paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>

  <subgraph name="getAndAnalyzeStunnenbergChipSeq" xmlFile="plasmodb/pfStunnenbergChipSeq.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa"></paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>

  <subgraph name="getAndAnalyzeStunnenbergChipSeqH2BvAndCenH3" xmlFile="plasmodb/pfStunnenbergChipSeqH2BvAndCenH3.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
    <paramValue name="ssaGeneModelFile">$$ssaGeneModelFile$$</paramValue>
    <paramValue name="genomicSeqsFileForSsa">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="transcriptSeqsFileForSsa"></paramValue>
    <depends name="mirrorToCluster"/>
  </subgraph>

</workflowGraph>
