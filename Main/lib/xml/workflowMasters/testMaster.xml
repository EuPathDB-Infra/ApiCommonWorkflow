<workflowGraph name="plasmoWorkflow">
  <param name="projectName"/>
  <param name="projectVersion"/>


  <constant name="comparativeGenomicsFastaDir">common/comparativeGenomics/Fasta/</constant>
  <constant name="comparativeGenomicsGffDir">common/comparativeGenomics/Gff/</constant>
  <constant name="webServicesDataDir">webServices/$$projectName$$/release-$$projectVersion$$/</constant>
  <constant name="downloadSiteDir">@@downloadSite@@/$$projectName$$/release-$$projectVersion$$/</constant>


  <globalSubgraph name="global" xmlFile="globalGraph.xml">
    <paramValue name="isolatesResourceReference">plasmodb/plasmoIsolatesResource.xml</paramValue>
    <paramValue name="loadIsolates">true</paramValue>
    <paramValue name="commonResourceXmlFile">plasmodb/plasmodbCommon.xml</paramValue>
    <paramValue name="globalResourceXmlFile">globalResources.xml</paramValue>
  </globalSubgraph>

  <subgraph name="common" xmlFile="common.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="comparativeGenomicsFastaDir">$$comparativeGenomicsFastaDir$$</paramValue>
    <paramValue name="comparativeGenomicsGffDir">$$comparativeGenomicsGffDir$$</paramValue>
    <paramValue name="webServicesDataDir">$$webServicesDataDir$$</paramValue>
  </subgraph>

<!--Pfalciparum-->

   <templateInstance name="Pfalciparum" xmlFile="testTemplate.xml" rtcFile="organism.rtc"/>

   <templateInstance name="Pchabaudi" xmlFile="testTemplate.xml" rtcFile="organism.rtc"/>

   <templateInstance name="Pfalciparum" xmlFile="testTemplate.xml" rtcFile="organism.rtc"/>

   <templateInstance name="Pfalciparum" xmlFile="organismTemplate.xml" rtcFile="organism.rtc"/>

  <subgraph name="ComparativeGenomics" xmlFile="comparativeGenomics.xml">
    <paramValue name="parentDataDir">common/comparativeGenomics/</paramValue>
    <paramValue name="mercatorDraftGenomes">@@mercatorDraftGenomes@@</paramValue>
    <paramValue name="mercatorNonDraftGenomes">@@mercatorNonDraftGenomes@@</paramValue>
    <paramValue name="mercatorDraftExternalDbSpec">@@mercatorDraftExternalDbSpec@@</paramValue>
    <paramValue name="mercatorNonDraftExternalDbSpec">@@mercatorNonDraftExternalDbSpec@@</paramValue>
    <paramValue name="mercatorDraftSeqTables">@@mercatorDraftSeqTables@@</paramValue>
    <paramValue name="mercatorNonDraftSeqTables">@@mercatorNonDraftSeqTables@@</paramValue>
    <paramValue name="cndSrcBin">@@cndSrcBin@@</paramValue>
    <paramValue name="mavidExe">@@mavidExe@@</paramValue>
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="mercatorFastaDir">$$comparativeGenomicsFastaDir$$</paramValue>
    <paramValue name="mercatorGffDir">$$comparativeGenomicsGffDir$$</paramValue>
    <paramValue name="webServicesDataDir">$$webServicesDataDir$$</paramValue>
    <paramValue name="organismResourceXmlFile">plasmodb/plasmodbCommon.xml</paramValue>
    <paramValue name="commonResourceXmlFile">plasmodb/plasmodbCommon.xml</paramValue>
    <paramValue name="createGenesForGeneFeatures">false</paramValue>
    <paramValue name="organismSpecificCreateGenesForGeneFeatures"></paramValue>
    <templateDepends name="MakeAndMaskTopLevelGenome" xmlFile="organismTemplate.xml"/>
  </subgraph>

  <subgraph name="RodentPlasmodiumChromosomes_RSRC" xmlFile="loadResource.xml">
    <paramValue name="resourceName">RodentPlasmodiumChromosomes_RSRC</paramValue>
    <paramValue name="resourceXmlFileName">$$commonResourceXmlFile$$</paramValue>
    <paramValue name="parentDataDir">$$parentDataDir$$/common/comparativeGenomics</paramValue>
    <depends name="ComparativeGenomics"/> 
  </subgraph>

</workflowGraph>

