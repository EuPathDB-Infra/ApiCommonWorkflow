<workflowGraph name="">
  <param name="organismAbbrev"/>
  <param name="projectName"/>
  <param name="projectVersion"/>
  <param name="relativeDownloadSiteDir"/>
  <param name="relativeWebServicesDir"/>
  <param name="organelleName"/>
  <param name="isOrganelle"/>
  <param name="isReferenceStrain"/>

  <step name="initOrganismDownloadSiteDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::InitOrganismWebsiteDir">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="organelleName">$$organelleName$$</paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
  </step>

  <!-- used for species-level files, such as ESTs -->
  <step name="initSpeciesDownloadSiteDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::InitOrganismWebsiteDir" includeIf="$$isReferenceStrain$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="organelleName"></paramValue>
    <paramValue name="useSpeciesName">true</paramValue>
  </step>

  <step name="makeDownloadSiteFastaDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="subDir">fasta</paramValue>
    <paramValue name="organelleName">$$organelleName$$</paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismDownloadSiteDir"/>
  </step>


  <!-- used for species-level files, such as ESTs -->
  <step name="makeDownloadSiteSpeciesFastaDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeSpeciesWebsiteSubdir" includeIf="$$isReferenceStrain$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="subDir">fasta</paramValue>
    <paramValue name="organelleName"></paramValue>
    <paramValue name="useSpeciesName">true</paramValue>
    <depends name="initSpeciesDownloadSiteDir"/>
  </step>

  <step name="makeDownloadSiteTxtDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="subDir">txt</paramValue>
    <paramValue name="organelleName">$$organelleName$$</paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismDownloadSiteDir"/>
  </step>

  <step name="makeDownloadSiteGffDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="subDir">gff</paramValue>
    <paramValue name="organelleName">$$organelleName$$</paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismDownloadSiteDir"/>
  </step>

  <step name="makeDownloadSiteTranscriptExpressionDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeDownloadSiteDir$$</paramValue>
    <paramValue name="subDir">transcriptExpression</paramValue>
    <paramValue name="organelleName">$$organelleName$$</paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismDownloadSiteDir"/>
  </step>

  <step name="initOrganismWebServicesDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::InitOrganismWebServicesDir" excludeIf="$$isOrganelle$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeWebServicesDir$$</paramValue>
     <paramValue name="useSpeciesName">false</paramValue>
 </step>

  <!-- used for species-level files, such as ESTs -->
  <step name="initSpeciesWebServicesDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::InitOrganismWebServicesDir" includeIf="$$isReferenceStrain$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeWebServicesDir$$</paramValue>
    <paramValue name="useSpeciesName">true</paramValue>
  </step>

  <step name="makeWebServicesBlastDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir" excludeIf="$$isOrganelle$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeWebServicesDir$$</paramValue>
    <paramValue name="subDir">blast</paramValue>
    <paramValue name="organelleName"></paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismWebServicesDir"/>
  </step>

  <!-- used for species-level files, such as ESTs -->
  <step name="makeSpeciesWebServicesBlastDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir" includeIf="$$isReferenceStrain$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeWebServicesDir$$</paramValue>
    <paramValue name="subDir">blast</paramValue>
    <paramValue name="organelleName"></paramValue>
    <paramValue name="useSpeciesName">true</paramValue>
    <depends name="initSpeciesWebServicesDir"/>
  </step>

  <step name="makeWebServicesMotifDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeOrganismWebsiteSubdir" excludeIf="$$isOrganelle$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="relativeDir">$$relativeWebServicesDir$$</paramValue>
    <paramValue name="subDir">motif</paramValue>
    <paramValue name="organelleName"></paramValue>
    <paramValue name="useSpeciesName">false</paramValue>
    <depends name="initOrganismWebServicesDir"/>
  </step>


</workflowGraph>
