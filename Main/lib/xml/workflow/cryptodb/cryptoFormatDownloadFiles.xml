<workflowGraph name="cryptoFormatDownloadFiles">
  <param name="projectName"/>
  <param name="projectVersion"/>

  <constant name="webServicesDataDir">$$projectName$$/release-$$projectVersion$$</constant>

  <subgraph name="CparvumChr6FormatDownloadFiles" xmlFile="formatDownloadFiles.xml">
    <paramValue name="downloadSiteDataDir">@@downloadSiteDir@@/$$projectName$$/release-$$projectVersion$$/CparvumChr6/fasta</paramValue>
    <paramValue name="organismName">CparvumChr6</paramValue>
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="webServicesDataDir">@@webServicesDir@@/$$webServicesDataDir$$</paramValue>
    <paramValue name="makeESTDownloadFile">false</paramValue>
    <paramValue name="makeProteomeDownloadFile">true</paramValue>
    <paramValue name="makeGenomicDownloadFile">true</paramValue>
  </subgraph>

  <subgraph name="ChominisFormatDownloadFiles" xmlFile="formatDownloadFiles.xml">
    <paramValue name="downloadSiteDataDir">@@downloadSiteDir@@//$$projectName$$/release-$$projectVersion$$/Chominis/fasta</paramValue>
    <paramValue name="organismName">Chominis</paramValue>
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="webServicesDataDir">@@webServicesDir@@/$$webServicesDataDir$$</paramValue>
    <paramValue name="makeESTDownloadFile">false</paramValue>
    <paramValue name="makeProteomeDownloadFile">true</paramValue>
    <paramValue name="makeGenomicDownloadFile">true</paramValue>
  </subgraph>

  <subgraph name="CparvumFormatDownloadFiles" xmlFile="formatDownloadFiles.xml">
    <paramValue name="downloadSiteDataDir">@@downloadSiteDir@@//$$projectName$$/release-$$projectVersion$$/Cparvum/fasta</paramValue>
    <paramValue name="organismName">Cparvum</paramValue>
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="webServicesDataDir">@@webServicesDir@@/$$webServicesDataDir$$</paramValue>
    <paramValue name="makeESTDownloadFile">true</paramValue>
    <paramValue name="makeProteomeDownloadFile">true</paramValue>
    <paramValue name="makeGenomicDownloadFile">true</paramValue>
  </subgraph>

  <subgraph name="CmurisFormatDownloadFiles" xmlFile="formatDownloadFiles.xml">
    <paramValue name="downloadSiteDataDir">@@downloadSiteDir@@//$$projectName$$/release-$$projectVersion$$/Cmuris/fasta</paramValue>
    <paramValue name="organismName">Cmuris</paramValue>
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="webServicesDataDir">@@webServicesDir@@/$$webServicesDataDir$$</paramValue>
    <paramValue name="makeESTDownloadFile">true</paramValue>
    <paramValue name="makeProteomeDownloadFile">true</paramValue>
    <paramValue name="makeGenomicDownloadFile">true</paramValue>
  </subgraph>

    <step name="formatGenbankIsolateDownloadFile" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::FormatDownloadFile">
      <paramValue name="inputFile">@@downloadSiteDir@@/$$projectName$$/release-$$projectVersion$$/Isolates/fasta/Cryptosporidium_Isolate_$$projectName$$-$$projectVersion$$.fasta</paramValue>
      <paramValue name="outputDir">@@webServicesDir@@/$$webServicesDataDir$$/blast</paramValue>
      <paramValue name="formattedFileName">CryptoIsolates</paramValue>
      <paramValue name="args">-n -t release-$$projectVersion$$/CryptoIsolates</paramValue>
    </step>

    <step name="formatReferenceIsolateDownloadFile" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::FormatDownloadFile">
      <paramValue name="inputFile">@@downloadSiteDir@@/$$projectName$$/release-$$projectVersion$$/Isolates/fasta/CryptoReferenceIsolate_$$projectName$$-$$projectVersion$$.fasta</paramValue>
      <paramValue name="outputDir">@@webServicesDir@@/$$webServicesDataDir$$/blast</paramValue>
      <paramValue name="formattedFileName">CryptoReferenceIsolates</paramValue>
      <paramValue name="args">-n -t release-$$projectVersion$$/CryptoReferenceIsolates</paramValue>
    </step>

    <step name="formatCparvumESTORFDownloadFile" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::FormatDownloadFile">
      <paramValue name="inputFile">@@downloadSiteDir@@/$$projectName$$/release-$$projectVersion$$/Cparvum/fasta/CparvumESTOrfs_$$projectName$$-$$projectVersion$$.fasta</paramValue>
      <paramValue name="outputDir">@@webServicesDir@@/$$webServicesDataDir$$/blast</paramValue>
      <paramValue name="formattedFileName">CparvumESTORF</paramValue>
      <paramValue name="args">-p -t release-$$projectVersion$$/CparvumESTORF</paramValue>
    </step>

    <step name="formatCmurisESTORFDownloadFile" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::FormatDownloadFile">
      <paramValue name="inputFile">@@downloadSiteDir@@/$$projectName$$/release-$$projectVersion$$/Cmuris/fasta/CmurisESTOrfs_$$projectName$$-$$projectVersion$$.fasta</paramValue>
      <paramValue name="outputDir">@@webServicesDir@@/$$webServicesDataDir$$/blast</paramValue>
      <paramValue name="formattedFileName">CmurisESTORF</paramValue>
      <paramValue name="args">-p -t release-$$projectVersion$$/CmurisESTORF</paramValue>
    </step>
</workflowGraph>

