<workflowGraph name="plasmoWorkflow">
  <param name="projectName"/>
  <param name="projectVersion"/>



  <constant name="comparativeGenomicsFastaDir">common/comparativeGenomics/Fasta/</constant>
  <constant name="comparativeGenomicsGffDir">common/comparativeGenomics/Gff/</constant>
  <constant name="webServicesDataDir">webServices/$$projectName$$/release-$$projectVersion$$/</constant>

  <globalSubgraph name="global" xmlFile="globalGraph.xml">
    <paramValue name="isolatesResourceReference">plasmodb/plasmoIsolatesResource.xml</paramValue>
    <paramValue name="loadIsolates">true</paramValue>
    <paramValue name="commonResourceXmlFile">plasmodb/plasmodbCommon.xml</paramValue>
    <paramValue name="globalResourceXmlFile">globalResources.xml</paramValue>
  </globalSubgraph>

  <subgraph name="common" xmlFile="common.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="comparativeGenomicsFastaDir">$$comparativeGenomicsFastaDir$$</paramValue>
    <paramValue name="comparativeGenomicsGffDir">$$comparativeGenomicsGffDir$$</paramValue>
    <paramValue name="webServicesDataDir">$$webServicesDataDir$$</paramValue>
  </subgraph>


<!--Pfalciparum-->

  <subgraph name="PfalciparumLoadGenome" xmlFile="loadGenome.xml">
    <paramValue name="parentDataDir"></paramValue>
    <paramValue name="organismName">Pfalciparum</paramValue>
    <paramValue name="genomeExtDbRlsSpec">Pfalciparum_chromosomes_RSRC|@@Pfalciparum_chromosomes_VER@@</paramValue>
    <paramValue name="organismResourceXmlFile">plasmodb/pfalciparum.xml</paramValue>
    <paramValue name="organismSpecificISFReference">plasmodb/pfalciparumISFResource.xml</paramValue>
    <paramValue name="ncbiTaxonId">36329</paramValue>
    <paramValue name="downloadSiteDataDir">$$projectName$$/release-$$projectVersion$$</paramValue>
    <paramValue name="extractProteins">true</paramValue>
    <depends name="common"/>
    <dependsGlobal name="taxonomy_RSRC"/> 
    <dependsGlobal name="SO_RSRC"/>
  </subgraph>



  <subgraph name="PfalciparumPostLoadGenome" xmlFile="postLoadGenome.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="parentDataDir"></paramValue>
    <paramValue name="organismName">Pfalciparum</paramValue>
    <paramValue name="organismFullName">@@PfOrganismFullName@@</paramValue>
    <paramValue name="organismTwoLetterAbbrev">Pf</paramValue>
    <paramValue name="genomeExtDbRlsSpec">Pfalciparum_chromosomes_RSRC|@@Pfalciparum_chromosomes_VER@@</paramValue>
    <paramValue name="iedbResourceName">Pf_IEDB_Epitopes_RSRC</paramValue>
    <paramValue name="iedbVersion">@@Pf_IEDB_Epitopes_VER@@</paramValue>
    <paramValue name="iedbDbRefResourceName">Pf_IEDB_Epitopes_DBxRefs_RSRC</paramValue>
    <paramValue name="dbESTResourceName">Pf_dbEST_RSRC</paramValue>
    <paramValue name="dbESTVersion">@@Pf_dbEST_VER@@</paramValue>
    <paramValue name="ncbiTaxonId">36329</paramValue>
    <paramValue name="parentNcbiTaxonId">5833</paramValue>
    <paramValue name="usePredictedTranscripts">true</paramValue>
    <paramValue name="predictedTranscriptsExtDbRlsSpec">WatanabePf3D7_PredictedTranscripts_RSRC|@@WatanabePf3D7_PredictedTranscripts_VER@@</paramValue>
    <paramValue name="runtRNAScan">false</paramValue>
    <paramValue name="runExportPred">true</paramValue>
    <paramValue name="maxIntronSize">20000</paramValue>
    <paramValue name="taxonHierarchyForBlastxFilter">Eukaryota Apicomplexa Plasmodium</paramValue>
    <paramValue name="nrdbExtDbRlsSpec">NRDB_RSRC|@@NRDB_VER@@</paramValue>
    <paramValue name="repeatMaskSpecies">-species Plasmodium</paramValue>
    <paramValue name="genomeSize"></paramValue>
    <paramValue name="skipProteomeAnalysis">false</paramValue>
    <paramValue name="skipGenomeAnalysis">false</paramValue>
    <paramValue name="mapEpitope">true</paramValue>
    <paramValue name="makeAssemblySeqs">true</paramValue>
    <paramValue name="makeAssemblies">true</paramValue>
    <paramValue name="mapAssemblySeqsAndAssemblies">true</paramValue>
    <paramValue name="loadOrganismSpecificESTResource">true</paramValue>
    <paramValue name="loadOrganismSpecificMassSpecResource">true</paramValue>
    <paramValue name="distanceBetweenStartsForAlignmentsInSameCluster">30000</paramValue>
    <paramValue name="organismSpecificESTResourcesReference">plasmodb/pfalciparumESTResource.xml</paramValue>
    <paramValue name="organismSpecificMassSpecResourcesReference">plasmodb/pfalciparumMassSpecResource.xml</paramValue>
    <paramValue name="organismResourceXmlFile">plasmodb/pfalciparum.xml</paramValue>
    <depends name="PfalciparumLoadGenome"/>
  </subgraph>

  <subgraph name="PfalciparumSpecificWorkflow" xmlFile="plasmodb/pfalciparumSpecific.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="parentDataDir"></paramValue>
    <paramValue name="organismResourceXmlFile">plasmodb/pfalciparum.xml</paramValue>
    <paramValue name="downloadSiteDataDir">$$projectName$$/release-$$projectVersion$$</paramValue>
    <paramValue name="maxIntronSize">20000</paramValue>
    <depends name="PfalciparumLoadGenome"/>
  </subgraph>

</workflowGraph>

