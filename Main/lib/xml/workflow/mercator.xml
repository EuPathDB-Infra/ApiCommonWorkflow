<workflowGraph name="mercatorAnalysis">

    <param name="mercator_genomes"/>
    <param name="mercator_reference_genome"/>
    <param name="mercator_draft_genomes"/>
    <param name="mercator_nondraft_genomes"/>
    <param name="mercator_tree"/>
    <param name="syntenyExtDbRlsSpec"/>
    <param name="genomeVirtualSeqsExtDbRlsSpec"/>
    <param name="genomeExtDbRlsSpec"/>
    <param name="mercatorDir"/>
 
    <constant name="dataDir">$$mercatorDir$$</constant>

    <step name="runMercatorMavid" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::RunMercatorMavid">
      <paramValue name="outputDir">$$dataDir$$/common/mercator/</paramValue>
    </step>

    <step name="createSyntenyExtDbRls" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::CreateExtDbAndDbRls">
      <paramValue name="syntenyExtDbRlsSpec">$$syntenyExtDbRlsSpec$$</paramValue>
      <depends name="runMercatorMavid"/>
    </step>

    <step name="insertMercatorSyntenySpans" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::InsertMercatorSyntenySpans">
      <paramValue name="inputDir">$$dataDir$$/common/mercator/</paramValue>
      <paramValue name="genomeVirtualSeqsExtDbRlsSpec">$$genomeVirtualSeqsExtDbRlsSpec$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>

      <depends name="createSyntenyExtDbRls"/>
    </step>

</workflowGraph>
