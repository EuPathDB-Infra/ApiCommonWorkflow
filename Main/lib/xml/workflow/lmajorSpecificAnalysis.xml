<workflowGraph name="lmajorSpecificAnalysis">
  <param name="parentDataDir"/>
  <param name="organismName"/>
  <param name="organismFullName"/>
  <param name="genomeExtDbRlsSpec"/>
  <param name="maxIntronSize"/>
  <param name="ncbiTaxonId"/>
  <param name="BACEndsExtDbRlsSpec"/>
  <param name="CosmidEndsExtDbRlsSpec"/>
  <param name="FV1EndsExtDbRlsSpec"/>
  <param name="PACEndsExtDbRlsSpec"/>
  <param name="repeatMaskSpecies"/>


  <constant name="dataDir">$$parentDataDir$$/$$organismName$$/SpecificAnalysis</constant>
  <constant name="genomicSeqsFile">$$parentDataDir$$/$$organismName$$/genome/genomicSeqs.fsa</constant>
  <constant name="BACEndsDir">$$dataDir$$/makeBACEnds</constant>
  <constant name="CosmidEndsDir">$$dataDir$$/makeCosmidEnds</constant>
  <constant name="FV1EndsDir">$$dataDir$$/makeFV1Ends</constant>
  <constant name="PACEndsDir">$$dataDir$$/makePACEnds</constant>

  <step name="makeDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDataDir">
    <paramValue name="dataDir">$$dataDir$$</paramValue>
  </step>

    <subgraph name="extractAndBlockBACEnds" xmlFile="extractAndBlockBACEnds.xml">
      <paramValue name="dataDir">$$BACEndsDir$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="BACEndsExtDbRlsSpec">$$BACEndsExtDbRlsSpec$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="repeatMaskSpecies">$$repeatMaskSpecies$$</paramValue>
      <depends name="makeDataDir"/>
    </subgraph>

    <subgraph name="mapBACEndsSeqsToGenome" xmlFile="mapAssembliesToGenome.xml">
      <paramValue name="parentDataDir">$$dataDir$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>
      <paramValue name="assembliesDataDir">$$BACEndsDir$$</paramValue>
      <paramValue name="genomicSeqsDir">$$parentDataDir$$/$$organismName$$/genome/makeAssemblySeqs/genomicSeqs</paramValue>
      <paramValue name="organismTwoLetterAbbrev"></paramValue>
      <paramValue name="nickName">mapBACEnds</paramValue>
      <paramValue name="queryTable">ExternalNASequence</paramValue>
      <paramValue name="updateAssemblySourceId">false</paramValue>
      <depends name="extractAndBlockBACEnds"/>
    </subgraph>

    <subgraph name="extractAndBlockCosmidEnds" xmlFile="extractAndBlockBACEnds.xml">
      <paramValue name="dataDir">$$CosmidEndsDir$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="BACEndsExtDbRlsSpec">$$CosmidEndsExtDbRlsSpec$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="repeatMaskSpecies">$$repeatMaskSpecies$$</paramValue>
      <depends name="makeDataDir"/>
    </subgraph>

    <subgraph name="mapCosmidEndsSeqsToGenome" xmlFile="mapAssembliesToGenome.xml">
      <paramValue name="parentDataDir">$$dataDir$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>
      <paramValue name="assembliesDataDir">$$CosmidEndsDir$$</paramValue>
      <paramValue name="genomicSeqsDir">$$parentDataDir$$/$$organismName$$/genome/makeAssemblySeqs/genomicSeqs</paramValue>
      <paramValue name="organismTwoLetterAbbrev"></paramValue>
      <paramValue name="nickName">mapCosmidEnds</paramValue>
      <paramValue name="queryTable">ExternalNASequence</paramValue>
      <paramValue name="updateAssemblySourceId">false</paramValue>
      <depends name="extractAndBlockCosmidEnds"/>
    </subgraph>


    <subgraph name="extractAndBlockFV1Ends" xmlFile="extractAndBlockBACEnds.xml">
      <paramValue name="dataDir">$$FV1EndsDir$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="BACEndsExtDbRlsSpec">$$FV1EndsExtDbRlsSpec$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="repeatMaskSpecies">$$repeatMaskSpecies$$</paramValue>
      <depends name="makeDataDir"/>
    </subgraph>

    <subgraph name="mapFV1EndsSeqsToGenome" xmlFile="mapAssembliesToGenome.xml">
      <paramValue name="parentDataDir">$$dataDir$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>
      <paramValue name="assembliesDataDir">$$FV1EndsDir$$</paramValue>
      <paramValue name="genomicSeqsDir">$$parentDataDir$$/$$organismName$$/genome/makeAssemblySeqs/genomicSeqs</paramValue>
      <paramValue name="organismTwoLetterAbbrev"></paramValue>
      <paramValue name="nickName">mapFV1Ends</paramValue>
      <paramValue name="queryTable">ExternalNASequence</paramValue>
      <paramValue name="updateAssemblySourceId">false</paramValue>
      <depends name="extractAndBlockFV1Ends"/>
    </subgraph>

    <subgraph name="extractAndBlockPACEnds" xmlFile="extractAndBlockBACEnds.xml">
      <paramValue name="dataDir">$$PACEndsDir$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="BACEndsExtDbRlsSpec">$$PACEndsExtDbRlsSpec$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="repeatMaskSpecies">$$repeatMaskSpecies$$</paramValue>
      <depends name="makeDataDir"/>
    </subgraph>

    <subgraph name="mapPACEndsSeqsToGenome" xmlFile="mapAssembliesToGenome.xml">
      <paramValue name="parentDataDir">$$dataDir$$</paramValue>
      <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
      <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
      <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>
      <paramValue name="assembliesDataDir">$$PACEndsDir$$</paramValue>
      <paramValue name="genomicSeqsDir">$$parentDataDir$$/$$organismName$$/genome/makeAssemblySeqs/genomicSeqs</paramValue>
      <paramValue name="organismTwoLetterAbbrev"></paramValue>
      <paramValue name="nickName">mapPACEnds</paramValue>
      <paramValue name="queryTable">ExternalNASequence</paramValue>
      <paramValue name="updateAssemblySourceId">false</paramValue>
      <depends name="extractAndBlockPACEnds"/>
    </subgraph>

</workflowGraph>



