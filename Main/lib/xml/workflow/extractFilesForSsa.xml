<workflowGraph name="makeAndMaskTopLevelGenome">
      <param name="organismAbbrev"/>
      <param name="genomicSeqsFileForSsa"/>
      <param name="transcriptSeqsFileForSsa"/>
      <param name="geneModelFileForSsa"/>
      <param name="cdsModelFileForSsa"/>
      <param name="isAnnotatedGenome"/>
      <param name="useTopLevel"/>

  <step name="extractGenomicSeqsForSsa"
        stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractNaSeqsForSsa">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="outputFile">$$genomicSeqsFileForSsa$$</paramValue>
    <paramValue name="useTopLevel">$$useTopLevel$$</paramValue>
    <depends name="makeDerivedTopLevelTables"/>
  </step>

  <step name="extractTranscriptSeqsForSsa"
        stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractTranscriptSeqsForSsa" includeIf="$$isAnnotatedGenome$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="outputFile">$$transcriptSeqsFileForSsa$$</paramValue>
    <paramValue name="useTopLevel">$$useTopLevel$$</paramValue>
    <depends name="makeDerivedTopLevelTables"/>
  </step>

  <step name="extractGeneModelForSsa"
        stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractGeneModelForSsa" includeIf="$$isAnnotatedGenome$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="outputFile">$$geneModelFileForSsa$$</paramValue>
    <paramValue name="useCDSCoordinates">false</paramValue>
    <paramValue name="useTopLevel">$$useTopLevel$$</paramValue>
    <depends name="makeDerivedTopLevelTables"/>
  </step>

  <step name="extractCdsModelForSsa"
        stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractGeneModelForSsa" includeIf="$$isAnnotatedGenome$$">
    <paramValue name="organismAbbrev">$$organismAbbrev$$</paramValue>
    <paramValue name="outputFile">$$cdsModelFileForSsa$$</paramValue>
    <paramValue name="useCDSCoordinates">true</paramValue>
    <paramValue name="useTopLevel">$$useTopLevel$$</paramValue>
    <depends name="makeDerivedTopLevelTables"/>
  </step>

</workflowGraph>