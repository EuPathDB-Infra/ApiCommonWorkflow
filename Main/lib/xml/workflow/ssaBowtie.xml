<workflowGraph name="SsaBowtie">
  <param name="parentDataDir"/>
  <param name="readSeqsFile"/>
  <param name="subjectSeqsFile"/>
  <param name="transcriptOrGenome"/>
  <param name="outputUniqueFile"/>
  <param name="outputNonUniqueFile"/>

  <constant name="dataDir">$$parentDataDir$$/ssaBowtie</constant>
  <constant name="bowtieOutputFile">$$dataDir$$/bowtie.out</constant>

  <step name="makeDataDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeDataDir">
    <paramValue name="dataDir">$$dataDir$$</paramValue>
  </step>

    <step name="runBowtie" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::RunBowtie">
      <paramValue name="subjectSeqsFile">$$subjectSeqsFile$$</paramValue>
      <paramValue name="querySeqsFile">$$readSeqsFile$$</paramValue>
      <paramValue name="outputFile">$$outputBowtieFile$$</paramValue>
      <depends name="makeDataDir"/>
    </step>

    <step name="bowtieToUniqueAndNonUnique" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::SsaBowtieToUniqueAndNonUnique">
     <paramValue name="inputBowtieFile">$$outputBowtieFile$$</paramValue>
     <paramValue name="outputUniqueFile">$$outputUniqueFile$$</paramValue>
     <paramValue name="outputNonUniqueFile">$$outputNonUniqueFile$$</paramValue>
     <paramValue name="transcriptOrGenome">$$transcriptOrGenome$$</paramValue>
    <depends name="runBowtie"/>
  </step>

</workflowGraph>
