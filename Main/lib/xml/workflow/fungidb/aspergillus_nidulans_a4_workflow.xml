<!-- ////////////////////////////////////////////////

         Aspergillus nidulans (A4)

       ////////////////////////////////////////////////  -->

<workflowGraph name="aspergillus_nidulans_a4_workflow">

     <param name="projectName"/>
     <param name="projectVersion"/>
     <param name="parentDataDir"/>
     <param name="downloadSiteDataDir"/>

     <param name="organismName" />
     <param name="organismFullName" />
     <param name="organismVersion" />
     <param name="parentNcbiTaxonId" />
     <param name="ncbiTaxonId" />
     <param name="webServicesDataDir"/>

     <!-- Set up some constants -->
     <constant name="dataDir">$$parentDataDir$$/workflow</constant>
     <constant name="downloadSiteDataDir">$$downloadSiteDataDir$$/aspergillus_nidulans_a4</constant>
 
     <!-- Location of the resource.xml file -->   
     <constant name="organismResourceXmlFile">fungidb/aspergillus_nidulans_a4.xml</constant>


       <!-- Create the data dir -->
       <step name="makeDataDir" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::MakeDataDir">
             <paramValue name="dataDir">$$dataDir$$</paramValue>
       </step>

      <!-- LoadGenome -->
      <subgraph name="aspergillus_nidulans_a4_LoadGenome" xmlFile="loadGenome.xml">

            <paramValue name="parentDataDir"></paramValue>
      
            <paramValue name="organismName">
                aspergillus_nidulans_a4
            </paramValue>

            <paramValue name="genomeExtDbRlsSpec">
                  aspergillus_nidulans_a4_genomic_sequence_RSRC|$$organismVersion$$
            </paramValue>

            <paramValue name="organismResourceXmlFile">
                  $$organismResourceXmlFile$$
            </paramValue>

           <paramValue name="organismSpecificISFReference">
                 fungidb/aspergillus_nidulans_a4_workflow_ISF.xml
           </paramValue>

           <paramValue name="ncbiTaxonId">
                $$ncbiTaxonId$$
           </paramValue>

           <paramValue name="downloadSiteDataDir">
                $$downloadSiteDataDir$$
           </paramValue>

           <paramValue name="extractProteins">
                true
           </paramValue>

           <paramValue name="projectName">
                $$projectName$$
           </paramValue>
  </subgraph>

      <!-- CHECK: Can I use vars in subgraph names? -->
  <!--  <subgraph name="aspergillus_nidulans_a4_PostLoadGenome" xmlFile="postLoadGenome.xml"> -->
  <subgraph name="aspergillus_nidulans_a4_PostLoadGenome" xmlFile="postLoadGenome.xml">
    <paramValue name="maxIntronSize">500</paramValue>
    <paramValue name="taxonHierarchyForBlastxFilter">Eukaryota Fungi Ascomycota</paramValue>
    <paramValue name="genomeSize">18874889</paramValue>

    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="parentDataDir"></paramValue>
    <paramValue name="organismName">aspergillus_nidulans_a4</paramValue>
    <paramValue name="organismFullName">$$organismFullName$$</paramValue>
    <paramValue name="organismTwoLetterAbbrev">$$organismTwoLetterAbbrev$$</paramValue>
    <paramValue name="genomeExtDbRlsSpec">aspergillus_nidulans_a4_genomic_sequence_RSRC|$$organismVersion$$</paramValue>
    <paramValue name="iedbResourceName"></paramValue>
    <paramValue name="iedbVersion"></paramValue>
    <paramValue name="iedbDbRefResourceName"></paramValue>
    <paramValue name="dbESTResourceName"></paramValue>
    <paramValue name="dbESTVersion"></paramValue>
    <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>
    <paramValue name="parentNcbiTaxonId">$$parentNcbiTaxonId$$</paramValue>
    <paramValue name="usePredictedTranscripts">false</paramValue>
    <paramValue name="predictedTranscriptsExtDbRlsSpec"></paramValue>
    <paramValue name="runtRNAScan">true</paramValue>
    <paramValue name="runExportPred">false</paramValue>
    <paramValue name="nrdbExtDbRlsSpec">NRDB_RSRC|@@NRDB_VER@@</paramValue>
    <paramValue name="repeatMaskSpecies">-species Fungi</paramValue>
    <paramValue name="skipProteomeAnalysis">false</paramValue>
    <paramValue name="skipGenomeAnalysis">false</paramValue>
    <paramValue name="mapEpitope">false</paramValue>
    <paramValue name="makeAssemblySeqs">false</paramValue>
    <paramValue name="makeAssemblies">false</paramValue>
    <paramValue name="mapAssemblySeqsAndAssemblies">false</paramValue>
    <paramValue name="loadOrganismSpecificESTResource">false</paramValue>
    <paramValue name="loadOrganismSpecificMassSpecResource">false</paramValue>
    <paramValue name="distanceBetweenStartsForAlignmentsInSameCluster">30000</paramValue>
    <paramValue name="organismSpecificESTResourcesReference"></paramValue>
    <paramValue name="organismSpecificMassSpecResourcesReference"></paramValue>
    <paramValue name="organismResourceXmlFile">$$organismResourceXmlFile$$</paramValue>
<!--    <depends name="aspergillus_nidulans_a4_LoadGenome"/> -->
    <depends name="aspergillus_nidulans_a4_LoadGenome"/>
  </subgraph>



</workflowGraph>