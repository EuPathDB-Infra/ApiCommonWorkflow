<workflowGraph name="gubbelsHTSWorkflow">
  <param name="projectName"/>
  <param name="projectVersion"/>


  <step name="tgME49ExtractGenomicSeqs"
          stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractNaSeqs">
      <paramValue name="extDbRlsSpec">T.gondii ME49 contigs from Genbank|@@Tgondii_ME49_contigs_from_Genbank_VER@@</paramValue>
      <paramValue name="table">ExternalNASequence</paramValue>
      <paramValue name="alternateDefline"></paramValue>
      <paramValue name="outputFile">tgME49GenomicSeqs.fsa</paramValue>
      <paramValue name="separateFastaFiles">false</paramValue>
      <paramValue name="outputDirForSeparateFiles"></paramValue>
    </step>

    <step name="tgME49CreateBowtieIndices" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::CreateBowtieIndexes">
      <paramValue name="inputFile">tgME49GenomicSeqs.fsa</paramValue>
      <paramValue name="outputIndexDir">tgME49GenomicSeqsIndexes</paramValue>
      <depends name="tgME49ExtractGenomicSeqs"/>
    </step>

    <step name="tgME49CreateBWAIndices" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::CreateBWAIndexes">
      <paramValue name="inputFile">tgME49GenomicSeqs.fsa</paramValue>
      <paramValue name="outputIndexDir">tgME49GenomicSeqs_bwa_indices</paramValue>
      <depends name="tgME49ExtractGenomicSeqs"/>
     </step>

  <step name="tgGT1ExtractGenomicSeqs"
          stepClass="ApiCommonWorkflow::Main::WorkflowSteps::ExtractNaSeqs">
      <paramValue name="extDbRlsSpec">T.gondii GT1 contigs from Genbank|@@Tgondii_GT1_contigs_from_Genbank_VER@@</paramValue>
      <paramValue name="table">ExternalNASequence</paramValue>
      <paramValue name="alternateDefline"></paramValue>
      <paramValue name="outputFile">tgGT1GenomicSeqs.fsa</paramValue>
      <paramValue name="separateFastaFiles">false</paramValue>
      <paramValue name="outputDirForSeparateFiles"></paramValue>
    </step>

    <step name="tgGT1CreateBowtieIndices" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::CreateBowtieIndexes">
      <paramValue name="inputFile">tgGT1GenomicSeqs.fsa</paramValue>
      <paramValue name="outputIndexDir">tgGT1GenomicSeqsIndexes</paramValue>
      <depends name="tgGT1ExtractGenomicSeqs"/>
    </step>

    <step name="tgGT1CreateBWAIndices" stepClass="ApiCommonWorkflow::Main::WorkflowSteps::CreateBWAIndexes">
      <paramValue name="inputFile">tgGT1GenomicSeqs.fsa</paramValue>
      <paramValue name="outputIndexDir">tgGT1GenomicSeqs_bwa_indices</paramValue>
      <depends name="tgGT1ExtractGenomicSeqs"/>
     </step>

    <subgraph name="TgRH_HTS_Gubbels_RSRC" xmlFile="loadResource.xml">
      <paramValue name="resourceName">TgRH_HTS_Gubbels_RSRC</paramValue>
      <paramValue name="resourceXmlFileName">toxodb/gubbelsHTSResources.xml</paramValue>
      <paramValue name="parentDataDir"></paramValue>
     </subgraph>

  <subgraph name="tgME49GubbelsHTS" xmlFile="miniflow/toxodb/tgME49GubbelsHTS.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="parentDataDir"></paramValue>
    <depends name="tgME49CreateBWAIndices"/> 
    <depends name="TgRH_HTS_Gubbels_RSRC"/> 
  </subgraph>

  <subgraph name="tgGT1GubbelsHTS" xmlFile="miniflow/toxodb/tgGT1GubbelsHTS.xml">
    <paramValue name="projectName">$$projectName$$</paramValue>
    <paramValue name="projectVersion">$$projectVersion$$</paramValue>
    <paramValue name="parentDataDir"></paramValue>
    <depends name="tgGT1CreateBWAIndices"/> 
    <depends name="TgRH_HTS_Gubbels_RSRC"/> 
  </subgraph>

  <subgraph name="Tg_Matrajt_GSE23174_Bz_RSRC" xmlFile="loadResource.xml">
    <paramValue name="resourceName">Tg_Matrajt_GSE23174_Bz_RSRC</paramValue>
    <paramValue name="resourceXmlFileName">toxodb/tgSullivanArrayResources.xml</paramValue>
    <paramValue name="parentDataDir"></paramValue>
  </subgraph>

  <subgraph name="Tg_Matrajt_GSE23174_Bz_analyzeMicroarrayExpression" xmlFile="analyzeMicroarrayExpression_modify.xml">
    <paramValue name="parentDataDir"></paramValue>
    <paramValue name="experimentResourceName">Tg_Matrajt_GSE23174_Bz_RSRC</paramValue>
    <paramValue name="chipProbeExtDbRlsSpec">Tg_array_Affy-Amit_NuclearCoding_RSRC|@@Tg_array_Affy-Amit_NuclearCoding_VER@@</paramValue>
    <paramValue name="experimentExtDbRlsSpec">Tg_Matrajt_GSE23174_Bz_RSRC|@@Tg_Matrajt_GSE23174_Bz_VER@@</paramValue>
    <paramValue name="genomeExtDbRlsSpec">T.gondii ME49 contigs from Genbank|@@Tgondii_ME49_contigs_from_Genbank_VER@@</paramValue>
    <paramValue name="insertAnalysisResult">true</paramValue>
    <paramValue name="probeGenesMappingFile">getAndMap_Tg_array_Affy-Amit_NuclearCoding_RSRC/Tg_array_Affy-Amit_NuclearCoding_RSRC/final/Tgondiia520372.cdf</paramValue>
    <paramValue name="profileSetSpecs"></paramValue>
    <paramValue name="isLogged">true</paramValue>
    <paramValue name="mappingFileForExpressionStats"></paramValue>
    <paramValue name="calculateExpressionStats">false</paramValue>
    <paramValue name="downloadSiteTranscriptExpressionDataDir">Tg_Matrajt_GSE23174_Bz</paramValue>
    <depends name="Tg_Matrajt_GSE23174_Bz_RSRC"/>
  </subgraph>
</workflowGraph>

